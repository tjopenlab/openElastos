<!--==========================================================================-->
<!-- Copyright (c) 2000-2004,  Elastos, Inc.  All Rights Reserved.-->
<!--==========================================================================-->

<?xml version = "1.0" encoding="GB2312" ?>
<?xml:stylesheet type="text/xsl" href="/xsl/xsl_e/apimanual.xsl"?>

<manpage>
    <sample url="system_lib\EzCreateObject">EzCreateObject</sample>
    <volume></volume>
    <title>CVirtualMemory::Commit</title>
    <routine_idx>.../mem_management_idx.htm</routine_idx>
 
    <description>
        <para>
       Requires the system to commit the specified virtual memory
        </para>
    </description>

    <syntax>
        <return_val>ECode  </return_val>
        <api_name>CVirtualMemory::Commit</api_name>
       <parameters>
            <api_param>
                <param_type> Address </param_type>
                <param_name> address</param_name>
                <param_note>
                    <para>
                    [in] The specified virtual address. 
                    </para>loced
                </param_note>
            </api_param>
      </parameters>      
    </syntax>

    <return>
       <table>
            <th>
                <td>Return Value</td><td>Description</td>
            </th>
            <tr>
                <td>NOERROR</td>
                <td>Funtion succeeds in committing  physical address of virtual memory.</td>
            </tr>
           <tr>
                <td>E_DOES_NOT_EXIST </td>
                <td>Specified </td>
            </tr>
            <tr>
                <td>E_OUT_OF_MEMORY </td>
                <td>Out of memory</td>
            </tr>
        </table>
        <para>See <link url="/sdk/reference/basic_data_type/hresult.htm">ECODE</link> related help for more details.</para>
    </return>   	
    

    <remarks>
         <para>
         Successful call to EzMemoryAlloc will get a dummy address resource, but the operating system does not allocate memory. The actual memory allocation occurs only after calling EzMemoryCommit and is mapped to the specified virtual memory space.</para> 

        <para>vAddr must be an address of the virtual memory block obtained by CVirtualMemoryAlloc. Otherwise, it will return E_NOT_EXIST.</para> 

        <para> The Map_Upgrow and Map_Downgrow flag of CVirtualMemory::Alloc will affect the mode of committing physical memory by EzMemoryCommit . When this method commits the physical page with flag being set as Map_Upgrow , it will commit all the needed physical memory of the virtual block addressed from the lowest address obtained, to the address passed in through EzMemoryCommit and map. On the other hand, when CVirtualMemoryCommit is called to commit physical page with flag being set as Map_Downgrow , it will commit and map the needed physical memory of the virtual memory block addressed from the highest address obtained, to the address passed in through CVirtualMemoryCommit .</para> 

         
    </remarks>

    <requirements>
        <system>
            <system_name>
                Windows 2000 or later; Elastos 2.0 or later.
            </system_name>
        </system>
        <headerfile>
            <file_name> elastos.h </file_name>
        </headerfile>
        <library>
            <lib_name> elastos.lib </lib_name>
        </library>
    </requirements>

</manpage>
