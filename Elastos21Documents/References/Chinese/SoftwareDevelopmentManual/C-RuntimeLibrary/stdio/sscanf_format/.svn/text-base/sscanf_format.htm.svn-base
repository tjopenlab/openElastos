<!--==========================================================================-->
<!-- Copyright (c) 2000-2006,  Elastos, Inc.  All Rights Reserved.-->
<!--==========================================================================-->
<html>
<head>

<title>sscanf 函数中的 format格式规范</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<link rel="stylesheet" href="/xsl/docdemo.css" type="text/css">
<script src="/xsl/docstyles.js"></script>
</head>
<body>

<h2>sscanf 函数中的 format格式规范</h2>

 <b>约定：</b>
            <li>sscanf函数中的第一个参数，在文中被命名为源字符串；
            <li>第二个参数，即format，被命名为格式串；
            <li>format specification，被命名为格式项；
            <li>type character，被命名为类型符。
        

        <p>  格式项的格式如下：</p>
        <h5>              [*] [<a class="style1" href="sscanf_format_width.htm">width</a>] [{h | l | ll | I64 | L}]<a class="style1" href="sscanf_format_type.htm">type</a></h5>
        <p>  格式串指定了格式化后的数据类型，它包含以下三类不同的字符：</p>
        <li> 空白符：空格、制表符或换行符。一个空白符，可以使sscanf读字符串中相应位置的空白字符，直到遇到非空白字符，但是不赋值给后面的参数。格式串的一个空白符可以匹配字符串中任意多个的空白符（包含0个）。
        <li> 除％以外的非空白符。一个非空白符，可以使sscanf在源字符串中匹配相应的字符，但不赋给后面的参数。如果源字符串中的字符不匹配，sscanf函数中止。
        <li> 前置％的类型符。一个格式项使sscanf将源字符串中的字符转换为指定的数据类型赋给后面的参数。


        <p>  格式串被从左到右地分析。格式项外面的字符（如果有的话）会被作为匹配字符串与源字符串的字符匹配；源字符串中的相应字符会被读但是不会被赋给后面的参数。如果源字符串中相应位置的字符不能与之匹配，sscanf函数就会中止，源字符串中的这个字符会被丢掉。</p>

        <p>  如果格式串中的第一个格式项被源字符串中的字符所支持，字符就会被转化为格式项所指定的类型，然后赋给格式串后的第一个参数。第二个格式项会格式化字符串中后面的字符并赋给字符串后的第二个参数，如此直到格式串中的最后一个格式项。</p>
        <p>  每次格式化源字符串中的字符，在三种情况下会停止：遇到了空白符（空格、制表符或换行符）；遇到不能被转换为指定数据类型的字符；达到了指定的width（如果被指定了的话）。如果格式串后面的参数个数多于格式项，那么多余的参数会被忽略；如果情况相反，那么函数执行后，格式串后各参数的值将是不确定的。</p>
        <p>  处于格式项最后位置的类型符，决定字符串中字符被转化的类型，是一个字符，或者字符串，或者是一个数字。</p>
        <p>  一个最简单的格式项，仅包括一个％和一个指定类型的字符（如，％s）。如果一个％后面出现了一个字符，而它不能被解释为格式项中的部分，那么从这个字符开始直到下一个％，其间的所有字符会被作为匹配字符，使sscanf() 在源字符串中读取与之匹配的字符并忽略它们。例如用％％，将忽略源字符串中相应位置的％。</p>
        <p>  在％后加一个 *， 表示将源字符串中字符转换为指定类型的数据，但不赋给后面的参数。</p>
        <p> </p>
        <p> </p>
        <p> </p>
<script>footer("chinese")</script>
</body>
</html>