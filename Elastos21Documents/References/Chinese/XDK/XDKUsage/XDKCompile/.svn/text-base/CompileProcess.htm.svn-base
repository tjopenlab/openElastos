<!--==========================================================================-->
<!-- Copyright (c) 2000-2008,  Elastos, Inc.  All Rights Reserved.-->
<!--==========================================================================-->
<html>
<head>
<title>Elastos&nbsp;XDK的编译</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<script src="/xsl/docstyles.js"></script>
</head>

<body>

<h2>Elastos&nbsp;XDK的编译过程</h2>

    <h3>1.编译中的常用命令</h3>
        <ul>
           <li>emake （all）   默认无需输入all参数，编译当前目录及其子目录。编译过程将根据dirs和sources文件进行指定的编译过程和编译操作。
	   <li>emake Cv       查看详细的编译过程信息，-v参数将打开所有提示信息和执行步骤的命令显示开关，整个编译过程中的所有命令和参数都将打印在编译窗口上。同时，用户也可以把这些信息通过各种途径重定向到文件或其他地方。
	   <li>emake clean    清除当前编译目录的镜像目录。clean参数只是清除本编译目录的镜像目录及其子目录的镜像目录，不会清除本目录及其子目录以外的其他目录的镜像目录。
	   <li>emake clobber  清除当前开发环境的整个镜像目录以及整个Targets目录。clobber参数将清除当前开发环境的所有镜像目录以及整个Targets目录，无论当前在那个目录，如果用户使用clobber参数，其他目录在本开发环境中的镜像目录以及Targets目录也会被一并清除。但是，clobber参数不会影响其他开发环境的镜像目录。
	   <li>emake rebuild   首先清除本目录的镜像目录，然后重新编译本目录及其子目录。rebuild参数等于是emake clean和emake的组合。
	   </ul>
    <h3>2.XDK的编译过程</h3>
    <p> 确定要编译的文件夹或者文件，将此文件夹或文件所在的父目录作为编译路径。
编译步骤以及各步所做的操作：
</p>
    <p>(1) 打开XDK的开发环境窗口，进入源代码目录；</p>
    <p>(2) 使用emake命令，启动MAKEFILE编译托管：</p>
    <pre>
        emake 回车
    此时，Elastos会根据开发环境的设置，建立相应的镜像目录和Targets目录。</pre>
    <p>(3) 若编译的源代码是基于CAR模型的应用，则调用相关CAR工具进行编译前的预处理，生成相应待编译代码到镜像目录中。</p>
    <p>(4) 调用指定编译工具集，对镜像目录下的源代码进行正式编译。</p>
    <p>(5) 生成中间文件(.o/.obj)和目标文件(.dll/.exe/.lib)到镜像目录中。</p>
    <p>(6) 若生成可执行文件，则自动拷贝到相应的Targets目录中供运行时用。</p>
    <p>(7) 若在sources文件中使用了导出头文件或库文件的关键字，则自动把指定的导出头文件或库文件拷贝到相应的镜像目录下的用户头文件目录或用户库文件目录。</p>
<script>footer("chinese")</script>
</body>
</html>
