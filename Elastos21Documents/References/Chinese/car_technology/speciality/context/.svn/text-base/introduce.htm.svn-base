<!--==========================================================================-->
<!-- Copyright (c) 2000-2006,  Elastos, Inc.  All Rights Reserved.-->
<!--==========================================================================-->
<html>
	<head>
		<meta http-equiv=Content-Type content="text/html; charset=GB2312">
		<link rel="stylesheet" href="/xsl/docdemo.css" type="text/css">
    <script src="/xsl/docstyles.js"></script>
		<title>context功能概念</title>
	</head>

	<body>
		<h3> 什么是语境</h3>
				<p>CAR构件类共有五种：普通类class、方面类aspect、语境类context、applet类和泛类generic。 </p>
        <p>语境类类似一个容器，拥有自己的环境特征，并能够接收对象，使对象也具有自己的环境特征。语境是对象运行时的环境，一个对象如果进入了语境，该对象将具有此语境的环境特征，一旦对象离开了语境，环境特征就会失去（但该对象很有可能又进入了另外一个语境，拥有新的环境特征）。这里环境特征就是方面类aspect。</p>
        <p>例如：学校Kschool可以看成一个语境类，能够接收对象成为学生Astudent,而学生就是一个方面类。如果一个普通类Cperson对象进入了语境，就具有了Kschool的特征即具有学生Astudent的特征和行为，一旦离开，Cperson对象就脱离了学校不再是学生了，也就不再具有学生的属性和行为。</p>

		
		<h3>语境技术及语法</h3>
		   <p>在CAR中，语境是一种基于动态聚合的技术，通过语境类CContext来实现普通类对象进出语境类对象，以及对已经进入的多个普通类对象进行管理，并实现了一些通用的接口。</p>
	     <p>具有环境特征或失去环境特征，也就是语境会为对象动态的聚合或拆卸一个或多个aspect对象。aspect对象即在car文件中定义语境时指定的属性，用来形容语境的环境特征。</p>
		<p>在CAR文件里我们可以如下定义语境构件类：</p>
<pre class= code>
<b>context</b> contextName pertainsto Aspect1,Aspect2 contextBody 		
</pre>
<p>说明：语境构件类的类名必须以字母“K”开头。 详情使用方法请参见关键字<a href= "..\..\fundamental\development_environment\car\keywords\keywords_context.htm">context</a> 。</p>
	
		<h3> 语境的进入和离开</h3>
	     <p>如果一个构件对象进入了某一语境，那么该对象会聚合语境的特征，也就是聚合了语境属性里的aspect对象，从而使该对象拥有了语境特征；如果该对象离开此语境，那么会拆卸聚合该语境属性里的aspect对象。</p>
	     <p>关于语境进入者、语境以及语境特征三者的关系要注意如下几点：</p>
       <p>1.对象进入语境后，对象并不聚合语境本身所实现的接口功能，对象只是聚合语境的特征(aspect对象)。</p>
       <p>2.语境的特征只是语境的属性，在实现上是aspect对象，但语境本身并不具有这些aspect对象的功能。如宠物店语境并不具有宠物和商品对象实例的功能。</p>
       <p>3.一个对象可以进入多个语境，每个语境可被多个对象进入。</p>
       <p>4.在实际上不是所有的对象都可进入某个语境的，语境可对进入者设置条件，只有条件满足者才可进入。也不是所有的对象都可随便离开某个语境，语境可对对象设置条件，只有条件满足者才可离开。</p>
    

	</body>
		
</html>