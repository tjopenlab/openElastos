<!--==========================================================================-->
<!-- Copyright (c) 2000-2006,  Elastos, Inc.  All Rights Reserved.-->
<!--==========================================================================-->

<html>
<head>
<title>format格式规范</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<script src="/xsl/docstyles.js"></script>
</head>

<body>

<h2>format格式规范</h2>
    <p>format格式规范由任意个所需的信息段组成，格式如下：</p>
    <pre class="code">
%[flags] [width] [.precision] [l] type
</pre>
    <p>每个format格式规范的信息段都是一个单独的字符或者一些特定的格式选项。最简单的format格式规范仅包括一个百分号和一个类型字符，例如：%s。如果百分号后接了一个未在format格式规范中规定的字符，该字符将被复制到内核控制台中。例如，要显示一个百分号，可以使用%%。</p>
    <p>可选信息段，出现在type信息段之前，指定了其他格式，具体如下：</p>
    <h2>type</h2>
    <p>必选信息段，确定相关的变量是否是一个字符，一个字符串或者一个数字。</p>
    <p>Type信息段参数表:</p>
    <table>
        <thead>
            <td width="10%">参数</td><td>类型</td><td>输出的格式化</td>
        </thead>
        <tr>
            <td>
                c
            </td>
            <td>
                int
            </td>
            <td>
                单字节字符格式
            </td>
        </tr>
        <tr>
            <td>
                b
            </td>
            <td>
                int
            </td>
            <td>
                不带符号的二进制整数
            </td>
        </tr>
        <tr>
            <td>
                d
            </td>
            <td>
                int
            </td>
            <td>
                带符号的十进制整数
            </td>
        </tr>
        <tr>
            <td>
                o
            </td>
            <td>
                int
            </td>
            <td>
                不带符号的八进制整数
            </td>
        </tr>
        <tr>
            <td>
                u
            </td>
            <td>
                int
            </td>
            <td>
                不带符号的十进制整数
            </td>
        </tr>
        <tr>
            <td>
                x
            </td>
            <td>
                int
            </td>
            <td>
                不带符号的十六进制整数，使用“abcdef”
            </td>
        </tr>
        <tr>
            <td>
                X
            </td>
            <td>
                int
            </td>
            <td>
                不带符号的十六进制整数，使用“ABCDEF”
            </td>
        </tr>
         <tr>
            <td>
                s
            </td>
            <td>
                String
            </td>
            <td>
                单字节字符串格式。字符显示到第一个空字符为止，或者到显示到精度值指定到的地方
            </td>
        </tr>
        <tr>
            <td>
                S
            </td>
            <td>
                String
            </td>
            <td>
                宽字符串格式。字符显示到第一个空字符为止，或者到显示到精度值指定到的地方
            </td>
        </tr>
    </table>
    <h2>flags</h2>
    <p>可选信息段，它控制着各类型前缀的显示方式。</p>
    <p>flag参数表</p>
    <table>
        <thead>
            <td width="10%">参数</td><td width="75%">说明</td><td width="15%">默认值</td>
        </thead>
        <tr>
            <td>
                C
            </td>
            <td>
                在所给的区域宽度内以左对齐的方式显示
            </td>
            <td>
                右对齐
            </td>
        </tr>
        <tr>
            <td>
                ~
            </td>
            <td>
                在所给的区域宽度内以居中对齐的方式显示
            </td>
            <td>
                右对齐
            </td>
        </tr>
        <tr>
            <td>
                0
            </td>
            <td>
                类型d（非负）、b、u、o、x、X与width同时使用，如果未达到最小width值，则在输出值前填充0，直到达到最小width值为止
            </td>
            <td>
                无填充
            </td>
        </tr>
    </table>
    <h2>width</h2>
    <p>可选信息段，指定最少的输出字符个数。</p>
    <p>width信息段是一个非负十进制整数，用以控制字符显示的最小个数。如果输出值的字符数比指定的width值小，则在值的前面或末尾填充空格（取决于flag是否被指定为左对齐方式），直到达到最小width值。如果width前有一个0，则在达到最小width值前，一直在输出值前填充0。</p>
    <p>width信息段不会改动任何一个值，如果输出值的字符数比width值大，或者没有给出width值，则显示所有字符的值（取决于精度）</p>
    <p>如果width信息段是一个星号（*），则函数的参数列表中必须提供int型参数替代width值。该int型参数必须放在参数列表中需格式化显示的值之前。如果width值不存在或太小，同样不会改动任何一个值，如果转换结果比width值宽，转换结果依然全部显示出来。</p>
    <h2>precision</h2>
    <p>可选信息段，指定所有或部分输出区域的最大的字符个数，或者以整数值形式指定所显示数字的最少个数</p>
    <p>precision在小数点后指定一个非负十进制整数，用来指示字符显示的个数。与width信息段不同的是，精度不仅能删去超出精度指定范围的字符个数。如果精度为0且值为0，结果就是没有输出字符，如下所示：</p>
    <pre class="code">
    kprintf( "%.0d", 0 );      /* 无字符输出 */
    </pre>
    <p>如果precision信息段是一个星号（*），则函数的参数列表中必须提供int型参数替代precision值。该int型参数必须放在参数列表中需格式化显示的值之前。</p>
    <p>type决定精度的转换以及当忽略精度时的默认值，如下表所示：</p>
    <p>精度对类型的影响表</p>
    <table>
        <thead>
            <td width="10%">类型</td><td>说明</td><td>默认值</td>
        </thead>
        <tr>
            <td>
                c
            </td>
            <td>
                精度无影响
            </td>
            <td>
                直接显示字符
            </td>
        </tr>
        <tr>
            <td>
                s, S
            </td>
            <td>
                精度指定字符显示的最多个数。不会显示精度范围外多余的字符
            </td>
            <td>
                直到出现空字符，否则字符将一直显示下去
            </td>
        </tr>
    </table>

    <h2>l</h2>
    <p>可选前缀，指定信息段的大小（长整型）。可支持类型：d, b, o, u, x, 和 X。 </p>


<script>footer("KoreTide")</script>
</body>

</html>
